<!DOCTYPE html>
<!-- saved from url=(0069)https://code.google.com/p/androidteam/wiki/AndroidKernelCompileAndRun -->
<html>
<body class="t6">



 





<div id="maincol">

 







 

<div id="wikipage">
<table>
 <tbody><tr>
 
 
 <td style="vertical-align:top; padding-left:5px">
 
 
 
 <div id="wikicontent">
 <div class="vt" id="wikimaincol">
 <h1><a name="Android_Kernel_Compile_And_Run"></a>Android Kernel Compile And Run<a href="https://code.google.com/p/androidteam/wiki/AndroidKernelCompileAndRun#Android_Kernel_Compile_And_Run" class="section_anchor"></a></h1><ul><li><strong>系统环境: Ubuntu 9.10, Kernel 2.6.31-14-generic, i686</strong> </li><li><strong>Date： 12/16/2009</strong> </li></ul><h3><a name="准备工作"></a>准备工作<a href="https://code.google.com/p/androidteam/wiki/AndroidKernelCompileAndRun#准备工作" class="section_anchor"></a></h3><ul><li>下载Android内核源码及交叉工具链 </li></ul><blockquote>打开终端，进入用户主目录($ cd ~)并输入 
<pre class="prettyprint"><span class="pln">$ git clone git</span><span class="pun">:</span><span class="com">//android.git.kernel.org/kernel/common.git</span></pre>下载Android内核源码。下载完成后，Android内核源码将位于~/common目录下；然后，输入 
<pre class="prettyprint"><span class="pln">$ git clone git</span><span class="pun">:</span><span class="com">//android.git.kernel.org/kernel/platform/prebuilt.git</span></pre>下载交叉编译工具链。下载完成后，交叉编译工具链将位于~/prebuilt目录下。(cupcake版本的Android源码已经包含交叉工具链，位于源码根目录的prebuilt目录下。如果下载了cupcake版本的Android，此步可以省略) 
</blockquote><ul><li>Build SDK </li></ul><blockquote>进入Android源码根目录，输入$ make sdk即可。本机为： 
<pre class="prettyprint"><span class="pln">$ cd </span><span class="pun">~/</span><span class="pln">yangdroid<br>$ make sdk</span></pre>It takes 50 minutes or so......  编译完成后，本机sdk位于"/home/yang/yangdroid/out/host/linux-x86/sdk/android-sdk_eng.yang_linux-x86"目录下。 
</blockquote><h3><a name="提取内核配置文件"></a>提取内核配置文件<a href="https://code.google.com/p/androidteam/wiki/AndroidKernelCompileAndRun#提取内核配置文件" class="section_anchor"></a></h3><blockquote>为简单起见，选用Android模拟器中的默认内核配置文件。打开终端，输入 
<pre class="prettyprint"><span class="pln">$ </span><span class="kwd">export</span><span class="pln"> ANDROID_JAVA_HOME</span><span class="pun">=</span><span class="pln">$JAVA_HOME<br>$ </span><span class="kwd">export</span><span class="pln"> ANDROID_PRODUCT_OUT</span><span class="pun">=</span><span class="str">/home/</span><span class="pln">yang</span><span class="pun">/</span><span class="pln">yangdroid</span><span class="pun">/</span><span class="kwd">out</span><span class="pun">/</span><span class="pln">target</span><span class="pun">/</span><span class="pln">product</span><span class="pun">/</span><span class="pln">generic<br></span><span class="com">/* PATH for emulator and adb tool(这行是注释，别输终端里了) */</span><span class="pln"><br>$ </span><span class="kwd">export</span><span class="pln"> PATH</span><span class="pun">=</span><span class="pln">$PATH</span><span class="pun">:</span><span class="str">/home/</span><span class="pln">yang</span><span class="pun">/</span><span class="pln">yangdroid</span><span class="pun">/</span><span class="kwd">out</span><span class="pun">/</span><span class="pln">host</span><span class="pun">/</span><span class="pln">linux</span><span class="pun">-</span><span class="pln">x86</span><span class="pun">/</span><span class="pln">bin<br>$ emulator </span><span class="pun">&amp;</span></pre>在后台运行Android模拟器；然后在该终端输入 
<pre class="prettyprint"><span class="pln">$ adb pull </span><span class="pun">/</span><span class="pln">proc</span><span class="pun">/</span><span class="pln">config</span><span class="pun">.</span><span class="pln">gz </span><span class="pun">.</span></pre>从模拟器下载配置文件的压缩版本至当前目录。此时可能出现device offline错误，多试几次即可。如下所示： 
<pre class="prettyprint"><span class="pln">yang@FallenAngel</span><span class="pun">:~</span><span class="pln">$ adb pull </span><span class="pun">/</span><span class="pln">proc</span><span class="pun">/</span><span class="pln">config</span><span class="pun">.</span><span class="pln">gz </span><span class="pun">.</span><span class="pln"><br>error</span><span class="pun">:</span><span class="pln"> device offline<br>yang@FallenAngel</span><span class="pun">:~</span><span class="pln">$ adb pull </span><span class="pun">/</span><span class="pln">proc</span><span class="pun">/</span><span class="pln">config</span><span class="pun">.</span><span class="pln">gz </span><span class="pun">.</span><span class="pln"><br>error</span><span class="pun">:</span><span class="pln"> device offline<br>yang@FallenAngel</span><span class="pun">:~</span><span class="pln">$ adb pull </span><span class="pun">/</span><span class="pln">proc</span><span class="pun">/</span><span class="pln">config</span><span class="pun">.</span><span class="pln">gz </span><span class="pun">.</span><span class="pln"><br></span><span class="lit">85</span><span class="pln"> KB</span><span class="pun">/</span><span class="pln">s </span><span class="pun">(</span><span class="lit">6913</span><span class="pln"> bytes </span><span class="kwd">in</span><span class="pln"> </span><span class="lit">0.079s</span><span class="pun">)</span></pre>此时，可以关闭模拟器。解压config.gz，然后将解压出来的config文件重命名为.config并移动至~/common目录(Android内核源码根目录) 
<pre class="prettyprint"><span class="pln">$ mv config </span><span class="pun">~</span><span class="str">/common/</span><span class="pun">.</span><span class="pln">config</span></pre></blockquote><h3><a name="编译Android内核"></a>编译Android内核<a href="https://code.google.com/p/androidteam/wiki/AndroidKernelCompileAndRun#编译Android内核" class="section_anchor"></a></h3><blockquote>进入Android内核源码根目录 
<pre class="prettyprint"><span class="pln">$ cd </span><span class="pun">~/</span><span class="pln">yangdroid</span></pre>输入 
<pre class="prettyprint"><span class="pln">$ git checkout origin</span><span class="pun">/</span><span class="pln">android</span><span class="pun">-</span><span class="pln">goldfish</span><span class="pun">-</span><span class="lit">2.6</span><span class="pun">.</span><span class="lit">27</span><span class="pln"> </span><span class="pun">-</span><span class="pln">b goldfish</span></pre>将当前内核转换为goldfish分支，以使编译出的内核可以在模拟器上运行。转换后输出如下： 
<pre class="prettyprint"><span class="pln">yang@FallenAngel</span><span class="pun">:~/</span><span class="pln">common$ git checkout origin</span><span class="pun">/</span><span class="pln">android</span><span class="pun">-</span><span class="pln">goldfish</span><span class="pun">-</span><span class="lit">2.6</span><span class="pun">.</span><span class="lit">27</span><span class="pln"> </span><span class="pun">-</span><span class="pln">b goldfish<br></span><span class="typ">Branch</span><span class="pln"> goldfish </span><span class="kwd">set</span><span class="pln"> up to track remote branch android</span><span class="pun">-</span><span class="pln">goldfish</span><span class="pun">-</span><span class="lit">2.6</span><span class="pun">.</span><span class="lit">27</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> origin</span><span class="pun">.</span><span class="pln"><br></span><span class="typ">Switched</span><span class="pln"> to a </span><span class="kwd">new</span><span class="pln"> branch </span><span class="str">'goldfish'</span></pre>输入 
<pre class="prettyprint"><span class="pln">$ </span><span class="kwd">export</span><span class="pln"> PATH</span><span class="pun">=</span><span class="pln">$PATH</span><span class="pun">:</span><span class="str">/home/</span><span class="pln">yang</span><span class="pun">/</span><span class="pln">prebuilt</span><span class="pun">/</span><span class="pln">linux</span><span class="pun">-</span><span class="pln">x86</span><span class="pun">/</span><span class="pln">toolchain</span><span class="pun">/</span><span class="pln">arm</span><span class="pun">-</span><span class="pln">eabi</span><span class="pun">-</span><span class="lit">4.4</span><span class="pun">.</span><span class="lit">0</span><span class="pun">/</span><span class="pln">bin</span></pre>添加交叉编译工具路径至PATH环境变量。输入 
<pre class="prettyprint"><span class="pln">$ make ARCH</span><span class="pun">=</span><span class="pln">arm CROSS_COMPILE</span><span class="pun">=</span><span class="pln">arm</span><span class="pun">-</span><span class="pln">eabi</span><span class="pun">-</span><span class="pln"> menuconfig</span></pre>配置Android内核。在内核配置界面中选择"Load an Alternate Configuration File"，然后输入上一步移进~/common目录的.config内核配置文件。保存并退出。输入 
<pre class="prettyprint"><span class="pln">$ make ARCH</span><span class="pun">=</span><span class="pln">arm CROSS_COMPILE</span><span class="pun">=</span><span class="pln">arm</span><span class="pun">-</span><span class="pln">eabi</span><span class="pun">-</span></pre>编译Android内核。这个编译得比较快，大概10分钟。默认配置文件里只保留了很小一部分的内核特性。编译完成后将在"common/arch/arm/boot"目录下生成内核镜像zImage，这个就是要用模拟器加载并运行的内核。 
</blockquote><h3><a name="建立AVD(Android_Virtual_Devices)"></a>建立AVD(Android Virtual Devices)<a href="https://code.google.com/p/androidteam/wiki/AndroidKernelCompileAndRun#建立AVD(Android_Virtual_Devices)" class="section_anchor"></a></h3><ul><li>for more information about AVD, refer to <a href="http://developer.android.com/guide/developing/tools/avd.html" rel="nofollow">Android Developers</a> </li></ul><blockquote>打开终端，输入 
<pre class="prettyprint"><span class="pln">$ </span><span class="kwd">export</span><span class="pln"> PATH</span><span class="pun">=</span><span class="pln">$PATH</span><span class="pun">:</span><span class="str">/home/</span><span class="pln">yang</span><span class="pun">/</span><span class="pln">yangdroid</span><span class="pun">/</span><span class="kwd">out</span><span class="pun">/</span><span class="pln">host</span><span class="pun">/</span><span class="pln">linux</span><span class="pun">-</span><span class="pln">x86</span><span class="pun">/</span><span class="pln">sdk</span><span class="pun">/</span><span class="pln">android</span><span class="pun">-</span><span class="pln">sdk_eng</span><span class="pun">.</span><span class="pln">yang_linux</span><span class="pun">-</span><span class="pln">x86</span><span class="pun">/</span><span class="pln">tools</span></pre>添加android工具路径至PATH环境变量；输入 
<pre class="prettyprint"><span class="pln">$ android list</span></pre>可以查看已存在的目标(targets)和AVD，如 
<pre class="prettyprint"><span class="pln">yang@FallenAngel</span><span class="pun">:~</span><span class="pln">$ android list<br></span><span class="typ">Available</span><span class="pln"> </span><span class="typ">Android</span><span class="pln"> targets</span><span class="pun">:</span><span class="pln"><br>id</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="str">"android-AOSP"</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="typ">Name</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Android</span><span class="pln"> AOSP </span><span class="pun">(</span><span class="typ">Preview</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="typ">Type</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Platform</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;API level</span><span class="pun">:</span><span class="pln"> AOSP<br>&nbsp; &nbsp; &nbsp;</span><span class="typ">Revision</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="typ">Skins</span><span class="pun">:</span><span class="pln"> WQVGA432</span><span class="pun">,</span><span class="pln"> WVGA800</span><span class="pun">,</span><span class="pln"> HVGA </span><span class="pun">(</span><span class="kwd">default</span><span class="pun">),</span><span class="pln"> WVGA854</span><span class="pun">,</span><span class="pln"> QVGA</span><span class="pun">,</span><span class="pln"> WQVGA400<br></span><span class="typ">Available</span><span class="pln"> </span><span class="typ">Android</span><span class="pln"> </span><span class="typ">Virtual</span><span class="pln"> </span><span class="typ">Devices</span><span class="pun">:</span></pre>输入 
<pre class="prettyprint"><span class="pln">$ android create avd </span><span class="pun">-</span><span class="pln">n yangAVD01 </span><span class="pun">-</span><span class="pln">t </span><span class="lit">1</span></pre>依照target id为1的目标生成AVD，如下所示 
<pre class="prettyprint"><span class="pln">yang@FallenAngel</span><span class="pun">:~</span><span class="pln">$ android create avd </span><span class="pun">-</span><span class="pln">n yangAVD01 </span><span class="pun">-</span><span class="pln">t </span><span class="lit">1</span><span class="pln"><br></span><span class="typ">Android</span><span class="pln"> AOSP </span><span class="pun">(</span><span class="typ">Preview</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">is</span><span class="pln"> a basic </span><span class="typ">Android</span><span class="pln"> platform</span><span class="pun">.</span><span class="pln"><br></span><span class="typ">Do</span><span class="pln"> you wish to create a custom hardware profile </span><span class="pun">[</span><span class="kwd">no</span><span class="pun">]</span><span class="pln"><br></span><span class="typ">Created</span><span class="pln"> AVD </span><span class="str">'yangAVD01'</span><span class="pln"> based on </span><span class="typ">Android</span><span class="pln"> AOSP </span><span class="pun">(</span><span class="typ">Preview</span><span class="pun">),</span><span class="pln"> </span><span class="kwd">with</span><span class="pln"> the following hardware config</span><span class="pun">:</span><span class="pln"><br>hw</span><span class="pun">.</span><span class="pln">lcd</span><span class="pun">.</span><span class="pln">density</span><span class="pun">=</span><span class="lit">160</span></pre>使用$ android list avd可以查看AVD的信息，如下： 
<pre class="prettyprint"><span class="pln">yang@FallenAngel</span><span class="pun">:~</span><span class="pln">$ android list avd<br></span><span class="typ">Available</span><span class="pln"> </span><span class="typ">Android</span><span class="pln"> </span><span class="typ">Virtual</span><span class="pln"> </span><span class="typ">Devices</span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">Name</span><span class="pun">:</span><span class="pln"> yangAVD01<br>&nbsp; &nbsp; </span><span class="typ">Path</span><span class="pun">:</span><span class="pln"> </span><span class="str">/home/</span><span class="pln">yang</span><span class="pun">/.</span><span class="pln">android</span><span class="pun">/</span><span class="pln">avd</span><span class="pun">/</span><span class="pln">yangAVD01</span><span class="pun">.</span><span class="pln">avd<br>&nbsp; </span><span class="typ">Target</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Android</span><span class="pln"> AOSP </span><span class="pun">(</span><span class="typ">Preview</span><span class="pun">)</span><span class="pln"> </span><span class="pun">(</span><span class="pln">API level AOSP</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">Skin</span><span class="pun">:</span><span class="pln"> HVGA</span></pre>关于AVD是什么，有什么作用？去AVD的目录(比如"/home/yang/.android/avd/yangAVD01.avd")，看看里面文件的内容就可以知道了。 
</blockquote><h3><a name="使用编译的内核运行Android"></a>使用编译的内核运行Android<a href="https://code.google.com/p/androidteam/wiki/AndroidKernelCompileAndRun#使用编译的内核运行Android" class="section_anchor"></a></h3><blockquote>打开终端，输入 
<pre class="prettyprint"><span class="com">/* your sdk root directory path */</span><span class="pln"><br>$ </span><span class="kwd">export</span><span class="pln"> ANDROID_SDK_ROOT</span><span class="pun">=</span><span class="str">/home/</span><span class="pln">yang</span><span class="pun">/</span><span class="pln">yangdroid</span><span class="pun">/</span><span class="kwd">out</span><span class="pun">/</span><span class="pln">host</span><span class="pun">/</span><span class="pln">linux</span><span class="pun">-</span><span class="pln">x86</span><span class="pun">/</span><span class="pln">sdk</span><span class="pun">/</span><span class="pln">android</span><span class="pun">-</span><span class="pln">sdk_eng</span><span class="pun">.</span><span class="pln">yang_linux</span><span class="pun">-</span><span class="pln">x86<br></span><span class="com">/* path for Android emulator */</span><span class="pln"><br>$ </span><span class="kwd">export</span><span class="pln"> PATH</span><span class="pun">=</span><span class="pln">$PATH</span><span class="pun">:</span><span class="str">/home/</span><span class="pln">yang</span><span class="pun">/</span><span class="pln">yangdroid</span><span class="pun">/</span><span class="kwd">out</span><span class="pun">/</span><span class="pln">host</span><span class="pun">/</span><span class="pln">linux</span><span class="pun">-</span><span class="pln">x86</span><span class="pun">/</span><span class="pln">bin</span></pre>最后，输入 
<pre class="prettyprint"><span class="pln">$ emulator </span><span class="pun">-</span><span class="pln">kernel </span><span class="pun">/</span><span class="pln">home</span><span class="pun">/</span><span class="pln">yang</span><span class="pun">/</span><span class="pln">common</span><span class="pun">/</span><span class="pln">arch</span><span class="pun">/</span><span class="pln">arm</span><span class="pun">/</span><span class="pln">boot</span><span class="pun">/</span><span class="pln">zImage </span><span class="lit">@yangAVD01</span><span class="pln"> </span><span class="pun">&amp;</span></pre>即可使用刚刚编译的Android内核运行Android操作系统。(这里是在后台运行Android) 
</blockquote><h3><a name="系统信息查看"></a>系统信息查看<a href="https://code.google.com/p/androidteam/wiki/AndroidKernelCompileAndRun#系统信息查看" class="section_anchor"></a></h3><blockquote>在上一步将Android放入后台运行的终端里输入 
<pre class="prettyprint"><span class="pln">$ adb shell</span></pre>即可使用终端操作Android的文件系统，其根目录信息如下 
<pre class="prettyprint"><span class="com"># ls -l</span><span class="pln"><br>drwxrwxrwt root &nbsp; &nbsp; root &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="lit">1970</span><span class="pun">-</span><span class="lit">01</span><span class="pun">-</span><span class="lit">01</span><span class="pln"> </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pln"> sqlite_stmt_journals<br>dr</span><span class="pun">-</span><span class="pln">x</span><span class="pun">------</span><span class="pln"> root &nbsp; &nbsp; root &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="lit">1970</span><span class="pun">-</span><span class="lit">01</span><span class="pun">-</span><span class="lit">01</span><span class="pln"> </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pln"> config<br>drwxrwx</span><span class="pun">---</span><span class="pln"> system &nbsp; cache &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="lit">1970</span><span class="pun">-</span><span class="lit">01</span><span class="pun">-</span><span class="lit">01</span><span class="pln"> </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pln"> cache<br>d</span><span class="pun">---------</span><span class="pln"> system &nbsp; system &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="lit">1970</span><span class="pun">-</span><span class="lit">01</span><span class="pun">-</span><span class="lit">01</span><span class="pln"> </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pln"> sdcard<br>lrwxrwxrwx root &nbsp; &nbsp; root &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="lit">1970</span><span class="pun">-</span><span class="lit">01</span><span class="pun">-</span><span class="lit">01</span><span class="pln"> </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pln"> d </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="str">/sys/</span><span class="pln">kernel</span><span class="pun">/</span><span class="pln">debug<br>lrwxrwxrwx root &nbsp; &nbsp; root &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="lit">1970</span><span class="pun">-</span><span class="lit">01</span><span class="pun">-</span><span class="lit">01</span><span class="pln"> </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pln"> etc </span><span class="pun">-&gt;</span><span class="pln"> </span><span class="str">/system/</span><span class="pln">etc<br>drwxr</span><span class="pun">-</span><span class="pln">xr</span><span class="pun">-</span><span class="pln">x root &nbsp; &nbsp; root &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="lit">2009</span><span class="pun">-</span><span class="lit">12</span><span class="pun">-</span><span class="lit">14</span><span class="pln"> </span><span class="lit">00</span><span class="pun">:</span><span class="lit">05</span><span class="pln"> system<br>drwxr</span><span class="pun">-</span><span class="pln">xr</span><span class="pun">-</span><span class="pln">x root &nbsp; &nbsp; root &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="lit">1970</span><span class="pun">-</span><span class="lit">01</span><span class="pun">-</span><span class="lit">01</span><span class="pln"> </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pln"> sys<br>drwxr</span><span class="pun">-</span><span class="pln">x</span><span class="pun">---</span><span class="pln"> root &nbsp; &nbsp; root &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="lit">1970</span><span class="pun">-</span><span class="lit">01</span><span class="pun">-</span><span class="lit">01</span><span class="pln"> </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pln"> sbin<br>dr</span><span class="pun">-</span><span class="pln">xr</span><span class="pun">-</span><span class="pln">xr</span><span class="pun">-</span><span class="pln">x root &nbsp; &nbsp; root &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="lit">1970</span><span class="pun">-</span><span class="lit">01</span><span class="pun">-</span><span class="lit">01</span><span class="pln"> </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pln"> proc<br></span><span class="pun">-</span><span class="pln">rwxr</span><span class="pun">-</span><span class="pln">x</span><span class="pun">---</span><span class="pln"> root &nbsp; &nbsp; root &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="lit">12383</span><span class="pln"> </span><span class="lit">1970</span><span class="pun">-</span><span class="lit">01</span><span class="pun">-</span><span class="lit">01</span><span class="pln"> </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pln"> init</span><span class="pun">.</span><span class="pln">rc<br></span><span class="pun">-</span><span class="pln">rwxr</span><span class="pun">-</span><span class="pln">x</span><span class="pun">---</span><span class="pln"> root &nbsp; &nbsp; root &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="lit">1677</span><span class="pln"> </span><span class="lit">1970</span><span class="pun">-</span><span class="lit">01</span><span class="pun">-</span><span class="lit">01</span><span class="pln"> </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pln"> init</span><span class="pun">.</span><span class="pln">goldfish</span><span class="pun">.</span><span class="pln">rc<br></span><span class="pun">-</span><span class="pln">rwxr</span><span class="pun">-</span><span class="pln">x</span><span class="pun">---</span><span class="pln"> root &nbsp; &nbsp; root &nbsp; &nbsp; &nbsp; </span><span class="lit">103164</span><span class="pln"> </span><span class="lit">1970</span><span class="pun">-</span><span class="lit">01</span><span class="pun">-</span><span class="lit">01</span><span class="pln"> </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pln"> init<br></span><span class="pun">-</span><span class="pln">rw</span><span class="pun">-</span><span class="pln">r</span><span class="pun">--</span><span class="pln">r</span><span class="pun">--</span><span class="pln"> root &nbsp; &nbsp; root &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="lit">118</span><span class="pln"> </span><span class="lit">1970</span><span class="pun">-</span><span class="lit">01</span><span class="pun">-</span><span class="lit">01</span><span class="pln"> </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pln"> </span><span class="kwd">default</span><span class="pun">.</span><span class="pln">prop<br>drwxrwx</span><span class="pun">--</span><span class="pln">x system &nbsp; system &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="lit">1970</span><span class="pun">-</span><span class="lit">01</span><span class="pun">-</span><span class="lit">01</span><span class="pln"> </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pln"> data<br>drwx</span><span class="pun">------</span><span class="pln"> root &nbsp; &nbsp; root &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="lit">1970</span><span class="pun">-</span><span class="lit">01</span><span class="pun">-</span><span class="lit">01</span><span class="pln"> </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pln"> root<br>drwxr</span><span class="pun">-</span><span class="pln">xr</span><span class="pun">-</span><span class="pln">x root &nbsp; &nbsp; root &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="lit">1970</span><span class="pun">-</span><span class="lit">01</span><span class="pun">-</span><span class="lit">01</span><span class="pln"> </span><span class="lit">08</span><span class="pun">:</span><span class="lit">00</span><span class="pln"> dev</span></pre>输入 
<pre class="prettyprint"><span class="com"># cat /proc/version</span></pre>有 
<pre class="prettyprint"><span class="com"># cat /proc/version</span><span class="pln"><br></span><span class="typ">Linux</span><span class="pln"> version </span><span class="lit">2.6</span><span class="pun">.</span><span class="lit">27</span><span class="pun">-</span><span class="lit">00110</span><span class="pun">-</span><span class="pln">g132305e </span><span class="pun">(</span><span class="pln">yang@FallenAngel</span><span class="pun">)</span><span class="pln"> </span><span class="pun">(</span><span class="pln">gcc version </span><span class="lit">4.4</span><span class="pun">.</span><span class="lit">0</span><span class="pln"> </span><span class="pun">(</span><span class="pln">GCC</span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="com">#1 Wed Dec 16 14:28:39 CST 2009</span></pre>上为系统相关信息：内核版本、编译内核的主机和用户名、编译器版本和编译时间等。 
输入 
<pre class="prettyprint"><span class="com"># cat /proc/cpuinfo</span></pre>有 
<pre class="prettyprint"><span class="com"># cat /proc/cpuinfo</span><span class="pln"><br></span><span class="typ">Processor</span><span class="pln"> &nbsp; &nbsp; &nbsp; </span><span class="pun">:</span><span class="pln"> ARM926EJ</span><span class="pun">-</span><span class="pln">S rev </span><span class="lit">5</span><span class="pln"> </span><span class="pun">(</span><span class="pln">v5l</span><span class="pun">)</span><span class="pln"><br></span><span class="typ">BogoMIPS</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">:</span><span class="pln"> </span><span class="lit">246.57</span><span class="pln"><br></span><span class="typ">Features</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">:</span><span class="pln"> swp half thumb fastmult vfp edsp java <br>CPU implementer </span><span class="pun">:</span><span class="pln"> </span><span class="lit">0x41</span><span class="pln"><br>CPU architecture</span><span class="pun">:</span><span class="pln"> </span><span class="lit">5TEJ</span><span class="pln"><br>CPU variant &nbsp; &nbsp; </span><span class="pun">:</span><span class="pln"> </span><span class="lit">0x0</span><span class="pln"><br>CPU part &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0x926</span><span class="pln"><br>CPU revision &nbsp; &nbsp;</span><span class="pun">:</span><span class="pln"> </span><span class="lit">5</span><span class="pln"><br></span><span class="typ">Cache</span><span class="pln"> type &nbsp; &nbsp; &nbsp;</span><span class="pun">:</span><span class="pln"> write</span><span class="pun">-</span><span class="pln">through<br></span><span class="typ">Cache</span><span class="pln"> clean &nbsp; &nbsp; </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> required<br></span><span class="typ">Cache</span><span class="pln"> lockdown &nbsp;</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> supported<br></span><span class="typ">Cache</span><span class="pln"> format &nbsp; &nbsp;</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Harvard</span><span class="pln"><br>I size &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">:</span><span class="pln"> </span><span class="lit">4096</span><span class="pln"><br>I assoc &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">:</span><span class="pln"> </span><span class="lit">4</span><span class="pln"><br>I line length &nbsp; </span><span class="pun">:</span><span class="pln"> </span><span class="lit">32</span><span class="pln"><br>I sets &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">:</span><span class="pln"> </span><span class="lit">32</span><span class="pln"><br>D size &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">:</span><span class="pln"> </span><span class="lit">65536</span><span class="pln"><br>D assoc &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">:</span><span class="pln"> </span><span class="lit">4</span><span class="pln"><br>D line length &nbsp; </span><span class="pun">:</span><span class="pln"> </span><span class="lit">32</span><span class="pln"><br>D sets &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">:</span><span class="pln"> </span><span class="lit">512</span><span class="pln"><br><br></span><span class="typ">Hardware</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Goldfish</span><span class="pln"><br></span><span class="typ">Revision</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0000</span><span class="pln"><br></span><span class="typ">Serial</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0000000000000000</span></pre>上为模拟器模拟的CPU信息，与项目的目标CPU还是有些区别的。更多的就不贴上来了，呵呵:-) 
</blockquote><h3><a name="END"></a>END<a href="https://code.google.com/p/androidteam/wiki/AndroidKernelCompileAndRun#END" class="section_anchor"></a></h3>
 </div>
 </div>
 </td></tr><tr>
</tr></tbody></table>
 </div>


 
 
 
 
 
 
 
 
 
 
 
 
 
 


 
 





  
 
 
 
 
 
 
 
 
 
</div> 


 

 
 


 
 
 
 
 



</body></html>